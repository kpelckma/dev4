\contentsline {section}{\tocsection {}{1}{Introduction}}{4}{}%
\contentsline {subsection}{\tocsubsection {}{1.1}{MicroTCA4.0}}{4}{}%
\contentsline {subsection}{\tocsubsection {}{1.2}{AWAKE 2C}}{4}{}%
\contentsline {subsection}{\tocsubsection {}{1.3}{A second e- LINAC}}{4}{}%
\contentsline {subsection}{\tocsubsection {}{1.4}{Requirements}}{7}{}%
\contentsline {subsection}{\tocsubsection {}{1.5}{Disturbances}}{7}{}%
\contentsline {subsection}{\tocsubsection {}{1.6}{Pulse compressors}}{9}{}%
\mbox {}\hrulefill \par 
\contentsline {section}{\tocsection {}{2}{LLRF Hardware}}{11}{}%
\contentsline {subsection}{\tocsubsection {}{2.1}{Setup}}{11}{}%
\contentsline {subsection}{\tocsubsection {}{2.2}{ICs on the AMCs.}}{12}{}%
\contentsline {subsection}{\tocsubsection {}{2.3}{Installation}}{14}{}%
\contentsline {subsection}{\tocsubsection {}{2.4}{Management}}{15}{}%
\contentsline {subsection}{\tocsubsection {}{2.5}{Monitoring}}{15}{}%
\contentsline {subsection}{\tocsubsection {}{2.6}{Interlock and safety}}{15}{}%
\mbox {}\hrulefill \par 
\contentsline {section}{\tocsection {}{3}{Firmware}}{16}{}%
\contentsline {subsection}{\tocsubsection {}{3.1}{Overview}}{16}{}%
\contentsline {subsection}{\tocsubsection {}{3.2}{Installation}}{16}{}%
\contentsline {subsection}{\tocsubsection {}{3.3}{DESY development}}{17}{}%
\contentsline {subsection}{\tocsubsection {}{3.4}{DESY's Register Description Language}}{18}{}%
\contentsline {subsection}{\tocsubsection {}{3.5}{Numerical data formats}}{18}{}%
\contentsline {subsection}{\tocsubsection {}{3.6}{PCI express}}{18}{}%
\contentsline {subsection}{\tocsubsection {}{3.7}{Timing and clocks}}{19}{}%
\contentsline {subsection}{\tocsubsection {}{3.8}{Modules}}{19}{}%
\contentsline {subsection}{\tocsubsection {}{3.9}{Memory map}}{22}{}%
\contentsline {subsection}{\tocsubsection {}{3.10}{Development}}{23}{}%
\contentsline {subsection}{\tocsubsection {}{3.11}{Intermediate Frequency}}{23}{}%
\contentsline {subsection}{\tocsubsection {}{3.12}{Latency}}{23}{}%
\mbox {}\hrulefill \par 
\contentsline {section}{\tocsection {}{4}{Digital Signal Processing}}{24}{}%
\contentsline {subsection}{\tocsubsection {}{4.1}{Setup}}{24}{}%
\contentsline {subsection}{\tocsubsection {}{4.2}{I/Q Sampling}}{24}{}%
\contentsline {subsection}{\tocsubsection {}{4.3}{Two-sample I/Q reconstruction}}{25}{}%
\contentsline {subsection}{\tocsubsection {}{4.4}{Synchronization}}{26}{}%
\mbox {}\hrulefill \par 
\contentsline {section}{\tocsection {}{5}{Mathematical models and descriptions}}{29}{}%
\contentsline {subsection}{\tocsubsection {}{5.1}{Pulse compressor}}{29}{}%
\contentsline {subsection}{\tocsubsection {}{5.2}{Waveguide}}{29}{}%
\contentsline {subsection}{\tocsubsection {}{5.3}{SSPA}}{30}{}%
\contentsline {subsection}{\tocsubsection {}{5.4}{Klystron+K100}}{30}{}%
\mbox {}\hrulefill \par 
\contentsline {section}{\tocsection {}{6}{Automatic control algorithms}}{31}{}%
\contentsline {subsection}{\tocsubsection {}{6.1}{PID Control Loops}}{31}{}%
\contentsline {subsection}{\tocsubsection {}{6.2}{Anti-windup filter}}{33}{}%
\contentsline {subsection}{\tocsubsection {}{6.3}{Feedforward Tables}}{33}{}%
\contentsline {subsection}{\tocsubsection {}{6.4}{Iterative Learning Control}}{34}{}%
\mbox {}\hrulefill \par 
\contentsline {section}{\tocsection {}{7}{Control firmware}}{35}{}%
\contentsline {subsection}{\tocsubsection {}{7.1}{Control loop}}{35}{}%
\contentsline {subsubsection}{\tocsubsubsection {}{7.1.1}{Within-Pulse feedback}}{35}{}%
\contentsline {subsubsection}{\tocsubsubsection {}{7.1.2}{Pulse-to-Pulse feedback}}{36}{}%
\contentsline {section}{\tocsection {}{8}{Numerical representation}}{36}{}%
\contentsline {section}{\tocsection {}{9}{IP cores}}{36}{}%
\contentsline {subsection}{\tocsubsection {}{9.1}{IQ demodulation core}}{36}{}%
\contentsline {subsection}{\tocsubsection {}{9.2}{Rotation core}}{36}{}%
\contentsline {subsection}{\tocsubsection {}{9.3}{IIR filter core}}{36}{}%
\contentsline {subsection}{\tocsubsection {}{9.4}{ILC Control core}}{36}{}%
\contentsline {subsection}{\tocsubsection {}{9.5}{PID core}}{36}{}%
\mbox {}\hrulefill \par 
\contentsline {section}{\tocsection {}{10}{Graphical User Interface}}{37}{}%
\contentsline {subsection}{\tocsubsection {}{10.1}{Software interface to firmware}}{38}{}%
\mbox {}\hrulefill \par 
\contentsline {section}{\tocsection {}{11}{Conclusion}}{39}{}%
\contentsline {section}{\tocsection {}{12}{Research challenges}}{39}{}%
