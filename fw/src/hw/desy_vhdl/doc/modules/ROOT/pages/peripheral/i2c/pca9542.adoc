= PCA9542 FPGA Firmware Implementation

ifndef::imagesdir[:imagesdir: ../images]
:stem: asciimath

== General

The PCA9542A is a 1-of-2 bidirectional translating multiplexer, controlled via the I2C-bus. https://www.nxp.com/docs/en/data-sheet/PCA9542A.pdf[*^{counter:link}^*]. 

_FPGA FW supported Switch-Features_:

* static or constant I2C address propagation
* channel selection

== Prerequest for Design Integration

The FW Design of PCA9542 is ready to use together with the FW entity ENT_I2C_CONTROLLER. The PCA9542 component should be connected to the controller component. The controller converts the IC specific read and write commands to drive and scope the external PCA9542 device. Two iobuf primitives are required aditionally. See image below.

image::I2C_integration.png[]

== FPGA Firmware Design

This Firmware design implementation of PCA9542 operates as a I2C subordinate device. It is a costimized statemachine to set the switch to choosen state. 

_Biref description_:

* Trigger starts a sets the switch configuration
** There is no termination condition apart from reset
** One clock cycle done impulse after configuration

== Design Implementation 

image::PCA9542_fsm.svg[]